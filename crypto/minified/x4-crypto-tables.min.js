function X4CryptoTables(){return this.history=[],this.historySent={},this.front=null,this.exchangeRates=null,this.tradeHook=[],this}function X4CryptoTable(e,t){var a=this;return a.initElement(e),a.initOptions(t),a.initColors(e),x4CryptoTables.wait(function(){return a.element&&a.element.parentNode},function(){a.initLoader(),a.initFont(),x4CryptoTables.wait(function(){return x4CryptoTables.exchangeRates&&x4CryptoTables.front},function(){a.initBadgeColors(),a.refreshItems(),a.renderWidget()})}),this}X4CryptoTables.prototype.symbols={USD:"$",EUR:"€",GBP:"£",AUD:"$",BRL:"R$",CAD:"$",CHF:"Fr.",CNY:"¥",HKD:"$",INR:"₹",JPY:"¥",MXN:"$",PHP:"₱",PLN:"zł",RUB:"₽",SEK:"kr",SGD:"$",ZAR:"R"},X4CryptoTables.prototype.wait=function(e,t){var a=function(){e()&&(clearInterval(o),t())},o=setInterval(a,100);a()},X4CryptoTables.prototype.request=function(e,t){var a=new XMLHttpRequest;a.onreadystatechange=function(){4==a.readyState&&200==a.status&&t(JSON.parse(a.responseText))},a.open("GET",e,!0),a.send()},X4CryptoTables.prototype.getExchangeRates=function(){var e=this;e.request("https://coincap.io/exchange_rates",function(t){e.exchangeRates=t})},X4CryptoTables.prototype.getFront=function(){var e=this;e.request("https://coincap.io/front",function(t){e.front={},t.forEach(function(t){e.front[t.short]=t})})},X4CryptoTables.prototype.getTrades=function(){var e=this;io.connect("https://coincap.io").on("trades",function(t){if(e.front&&e.front[t.coin]){t.msg.color=t.msg.price!==e.front[t.coin].price?t.msg.price>e.front[t.coin].price?"green":"red":e.front[t.coin].color,e.tradeHook.forEach(function(e){e(t.msg)});for(var a in t.msg)e.front[t.coin][a]=t.msg[a]}})},X4CryptoTables.prototype.getHistory=function(e,t,a){var o=this;if(!o.historySent[e+t]){o.historySent[e+t]=!0;var r="https://coincap.io/history/"+("all"!==t?t+"/":"")+e;o.request(r,function(r){r.mktcap=r.market_cap,delete r.market_cap,r.price.pop(),r.mktcap.pop(),r.volume.pop(),o.history[e]=o.history[e]||{},o.history[e][t]=r,delete o.historySent[e+t],a()})}},X4CryptoTables.prototype.formatName=function(e,t,a){var o=t.template;if(-1!==o.indexOf("[icon]")){var r=a.toLowerCase().replace(/\s|\.\.\./g,"");o=o.replace("[icon]",'<div class="x4-cc-coin x4-cc-coin-'+r+'"></div>')}return-1!==o.indexOf("[long]")&&(o=o.replace("[long]",'<div class="x4-long">'+a+"</div>")),-1!==o.indexOf("[short]")&&(o=o.replace("[short]",'<div class="x4-short">'+e+"</div>")),o},X4CryptoTables.prototype.formatPrice=function(e,t,a){var o=this,r=t.template;if(-1!==r.indexOf("[symbol]")&&(r=o.symbols[e]?(r=r.replace("[symbol]",'<div class="x4-symbol">'+o.symbols[e]+"</div>")).replace(/\s*\[abbreviation\]\s*/,""):r.replace("[symbol]","")),-1!==r.indexOf("[abbreviation]")&&(r=r.replace("[abbreviation]",'<div class="x4-fiat">'+e+"</div>")),-1!==r.indexOf("[value]")){var i=o.exchangeRates.rates[e]||1;a=o.formatValue(a*i,t.factor,t.separator,t.precision),r=r.replace("[value]",'<div class="x4-number">'+a+"</div>")}return r},X4CryptoTables.prototype.formatSupply=function(e,t){var a=e.template;return-1!==a.indexOf("[value]")&&(t=this.formatValue(t,e.factor,e.separator,e.precision),a=a.replace("[value]",'<div class="x4-number">'+t+"</div>")),a},X4CryptoTables.prototype.formatPerc=function(e,t){var a=e.template;return-1!==a.indexOf("%")&&(a=a.replace("%",'<div class="x4-percent">%</div>')),-1!==a.indexOf("[value]")&&(t=this.formatValue(t,e.factor,e.separator,e.precision),a=a.replace("[value]",'<div class="x4-number">'+t+"</div>")),a},X4CryptoTables.prototype.formatValue=function(e,t,a,o){var r=["K","M","G","T","P","E","Z","Y"],i="";if(t)for(var s="auto"!==t?r.indexOf(t)+1:8,n=0;n<s;n++){var l=e/1e3;if("auto"===t&&l<1)break;i=r[n],e=l}return(e=e.toFixed(o).toString().split("."))[0]=e[0].replace(/\B(?=(\d{3})+(?!\d))/g,a),e.join(".")+i},X4CryptoTables.prototype.uiLoader=function(){var e=document.createElement("div");e.className="x4-ui-loader";var t=document.createElement("div");t.className="x4-shape x4-shape1 x4-primary-border";var a=document.createElement("div");a.className="x4-shape x4-shape2 x4-primary-border";var o=document.createElement("div");return o.className="x4-shape x4-shape3 x4-primary-border",e.appendChild(t),e.appendChild(a),e.appendChild(o),e},X4CryptoTables.prototype.uiSelect=function(e){var t=document.createElement("div");t.className="x4-ui-select",Array.isArray(e.values)&&(e.values={items:e.values.map(function(e){return{value:e,title:e}}),value:"value",title:"title"});var a=e.values.items.filter(function(t){return t[e.values.value]===e.value});a=a.length>0?a[0][e.values.title]:"";var o=document.createElement("div");o.className="x4-box";var r=document.createElement("div");r.className="x4-value",r.innerHTML=a;var i=document.createElement("div");i.className="x4-icon",i.innerHTML=this.icon_arrow_drop_down;var s=document.createElement("div");s.className="x4-line";var n=document.createElement("div");n.className="x4-shape1";var l=document.createElement("div");l.className="x4-shape2 x4-primary-back",s.appendChild(n),s.appendChild(l),o.appendChild(r),o.appendChild(i),o.appendChild(s);var c=document.createElement("div");c.className="x4-backdrop";var p=document.createElement("div");p.className="x4-menu x4-scroll";var d=[];if(e.values.items.forEach(function(a){var o=a[e.values.value]===e.value?" x4-active x4-primary-color":"",i=document.createElement("div");i.className="x4-option"+o,i.setAttribute("data-value",a[e.values.value]),i.innerHTML=a[e.values.title],i.addEventListener("click",function(){var a=d.filter(function(e){return-1!==e.className.indexOf("x4-active")})[0];a&&a!==this&&(a.className=a.className.replace(" x4-active","").replace(" x4-primary-color",""),this.className+=" x4-active x4-primary-color",r.innerHTML=this.innerHTML,t.className=t.className.replace(" x4-focused",""),e.onChange(this.getAttribute("data-value")))}),p.appendChild(i),d.push(i)}),t.appendChild(o),t.appendChild(c),t.appendChild(p),e.label){var m=document.createElement("div");m.className="x4-label",m.innerHTML=e.label,t.appendChild(m)}return o.addEventListener("click",function(){t.className+=" x4-focused";var e=d.filter(function(e){return-1!==e.className.indexOf("x4-active")})[0];e&&(p.scrollTop=e.offsetTop-2*e.offsetHeight)}),c.addEventListener("click",function(){t.className=t.className.replace(" x4-focused","")}),t},X4CryptoTables.prototype.uiInput=function(e){var t=document.createElement("div");t.className="x4-ui-input";var a=document.createElement("div");a.className="x4-box";var o=document.createElement("input");o.setAttribute("type",e.type||"text"),o.value=e.value||"",e.placeholder&&o.setAttribute("placeholder",e.placeholder);var r=document.createElement("div");r.className="x4-line";var i=document.createElement("div");i.className="x4-shape1";var s=document.createElement("div");if(s.className="x4-shape2 x4-primary-back",r.appendChild(i),r.appendChild(s),a.appendChild(o),a.appendChild(r),t.appendChild(a),e.label){var n=document.createElement("div");n.className="x4-label",n.innerHTML=e.label,t.appendChild(n)}return o.addEventListener("focus",function(){t.className+=" x4-focused"}),o.addEventListener("blur",function(){t.className=t.className.replace(" x4-focused","")}),o.addEventListener("input",function(){e.onInput(o.value)}),t},X4CryptoTables.prototype.uiTable=function(e){var t=this,a=document.createElement("div");a.className="x4-ui-table";var o=document.createElement("div");o.className="x4-inside";var r=document.createElement("div");r.className="x4-head";var i=document.createElement("div");i.className="x4-row x4-primary-border";var s=[];e.columns.forEach(function(a){var o=a.field===e.sortField,r=o?" x4-sort-active":"",n="right"===a.align?" x4-align-right":"",l=o&&"asc"===e.sortType||!o&&"asc"===a.sort?"asc":"desc",c=document.createElement("div");c.className="x4-column x4-"+a.field+n+r;var p=document.createElement("div");p.className="x4-sort x4-icon x4-"+l,p.innerHTML=t.icon_arrow_upward;var d=document.createElement("div");d.className="x4-value",d.innerHTML=a.title,c.appendChild(p),c.appendChild(d),c.addEventListener("click",function(){var t=s.filter(function(e){return-1!==e.className.indexOf("x4-sort-active")})[0];t&&t!==c&&(t.className=t.className.replace(" x4-sort-active",""),c.className+=" x4-sort-active"),e.sortType=a.field===e.sortField?"asc"===e.sortType?"desc":"asc":a.sort,e.sortField=a.field,p.className=p.className.replace(" x4-asc","").replace(" x4-desc",""),p.className+=" x4-"+e.sortType,e.onChangeSort(e.sortField,e.sortType)}),i.appendChild(c),s.push(c)}),r.appendChild(i);var n=document.createElement("div");n.className="x4-body";var l=1;return e.items.forEach(function(t){var a=document.createElement("div");a.className="x4-row "+(l++%2==0?"x4-even":"x4-odd"),a.setAttribute("data-value",t[e.key]),e.columns.forEach(function(o){var r=o.field===e.sortField?" x4-sort-active":"",i="right"===o.align?" x4-align-right":"",s=document.createElement("div");s.className="x4-column x4-"+o.field+i+r;var n=e.onRenderValue(t,o);s.appendChild(n),a.appendChild(s)}),e.onRowClick&&a.addEventListener("click",function(){e.onRowClick(a,t)}),n.appendChild(a)}),o.appendChild(r),o.appendChild(n),a.appendChild(o),a},X4CryptoTables.prototype.icon_arrow_drop_down='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M7 10l5 5 5-5z"/><path d="M0 0h24v24H0z" fill="none"/></svg>',X4CryptoTables.prototype.icon_arrow_upward='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M4 12l1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8-8 8z"/></svg>',X4CryptoTables.prototype.icon_attach_money='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M11.8 10.9c-2.27-.59-3-1.2-3-2.15 0-1.09 1.01-1.85 2.7-1.85 1.78 0 2.44.85 2.5 2.1h2.21c-.07-1.72-1.12-3.3-3.21-3.81V3h-3v2.16c-1.94.42-3.5 1.68-3.5 3.61 0 2.31 1.91 3.46 4.7 4.13 2.5.6 3 1.48 3 2.41 0 .69-.49 1.79-2.7 1.79-2.06 0-2.87-.92-2.98-2.1h-2.2c.12 2.19 1.76 3.42 3.68 3.83V21h3v-2.15c1.95-.37 3.5-1.5 3.5-3.55 0-2.84-2.43-3.81-4.7-4.4z"/><path d="M0 0h24v24H0z" fill="none"/></svg>',X4CryptoTables.prototype.icon_chevron_left='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"/><path d="M0 0h24v24H0z" fill="none"/></svg>',X4CryptoTables.prototype.icon_chevron_right='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"/><path d="M0 0h24v24H0z" fill="none"/></svg>',X4CryptoTables.prototype.icon_layers='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M11.99 18.54l-7.37-5.73L3 14.07l9 7 9-7-1.63-1.27-7.38 5.74zM12 16l7.36-5.73L21 9l-9-7-9 7 1.63 1.27L12 16z"/></svg>',X4CryptoTables.prototype.icon_search='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/><path d="M0 0h24v24H0z" fill="none"/></svg>',X4CryptoTable.prototype.initColors=function(e){var t=document.createElement("style");t.type="text/css";var a="",o=null!==document.getElementById(e)?"#"+e:e;for(var r in this.options.colors){var i=this.options.colors[r];a+=o+" .x4-"+r+"-back{background-color:"+i+"!important}",a+=o+" .x4-"+r+"-border{border-color:"+i+"!important}",a+=o+" .x4-"+r+"-color{color:"+i+"!important}",a+=o+" .x4-"+r+"-fill svg{fill:"+i+"!important}"}t.innerHTML=a,document.head.appendChild(t)},X4CryptoTable.prototype.initElement=function(e){var t=this,a=function(){t.element=document.getElementById(e)||document.querySelector(e),t.element?t.element.className=t.element.className?t.element.className+" x4-crypto-tables":"x4-crypto-tables":console.error('X4 Crypto Tables: DOM element "'+e+'" does not exist.')};if("loading"===document.readyState)return document.addEventListener("DOMContentLoaded",a);a()},X4CryptoTable.prototype.initOptions=function(e){var t=this;(e=e||{}).colors=e.colors||{},e.coins=e.coins||{},e.columns=e.columns||{},e.columns.schema=e.columns.schema||{},e.columns.schema.long=e.columns.schema.long||{},e.columns.schema.mktcap=e.columns.schema.mktcap||{},e.columns.schema.price=e.columns.schema.price||{},e.columns.schema.vwapData=e.columns.schema.vwapData||{},e.columns.schema.supply=e.columns.schema.supply||{},e.columns.schema.volume=e.columns.schema.volume||{},e.columns.schema.perc=e.columns.schema.perc||{},e.columns.sort=e.columns.sort||{},e.chart=e.chart||{},e.chart.property=e.chart.property||{},e.chart.property.schema=e.chart.property.schema||{},e.chart.property.schema.price=e.chart.property.schema.price||{},e.chart.property.schema.mktcap=e.chart.property.schema.mktcap||{},e.chart.property.schema.volume=e.chart.property.schema.volume||{},e.chart.period=e.chart.period||{},e.chart.period.schema=e.chart.period.schema||{},e.chart.period.schema["365day"]=e.chart.period.schema["365day"]||{},e.chart.period.schema["180day"]=e.chart.period.schema["180day"]||{},e.chart.period.schema["90day"]=e.chart.period.schema["90day"]||{},e.chart.period.schema["30day"]=e.chart.period.schema["30day"]||{},e.chart.period.schema["7day"]=e.chart.period.schema["7day"]||{},e.chart.period.schema["1day"]=e.chart.period.schema["1day"]||{},e.fiat=e.fiat||{},e.perPage=e.perPage||{},e.search=e.search||{},e.pager=e.pager||{},e.flashes=e.flashes||{},e.flashes.colors=e.flashes.colors||{},e.badges=e.badges||{},e.badges.colors=e.badges.colors||{},e.font=e.font||{},e.width=e.width||{},e.padding=e.padding||{},t.options={loader:void 0===e.loader||e.loader,colors:{primary:e.colors.primary||"rgba(0,188,212,1)"},coins:{strategy:e.coins.strategy||"include_all",except:e.coins.except||[]},columns:{items:e.columns.items||["long","mktcap","price","vwapData","supply","volume","perc"],hideOrder:e.columns.hideOrder||["volume","supply","vwapData","mktcap","perc","price"],schema:{long:{title:e.columns.schema.long.title||"Name",sort:e.columns.schema.long.sort||"asc",align:e.columns.schema.long.align||"left",template:e.columns.schema.long.template||"[icon][long] ([short])"},mktcap:{title:e.columns.schema.mktcap.title||"Market Cap",sort:e.columns.schema.mktcap.sort||"desc",align:e.columns.schema.mktcap.align||"right",template:e.columns.schema.mktcap.template||"[symbol][value] [abbreviation]",factor:e.columns.schema.mktcap.factor||"",separator:void 0!==e.columns.schema.mktcap.separator?e.columns.schema.mktcap.separator:",",precision:e.columns.schema.mktcap.precision||0},price:{title:e.columns.schema.price.title||"Price",sort:e.columns.schema.price.sort||"desc",align:e.columns.schema.price.align||"right",template:e.columns.schema.price.template||"[symbol][value] [abbreviation]",factor:e.columns.schema.price.factor||"",separator:void 0!==e.columns.schema.price.separator?e.columns.schema.price.separator:",",precision:e.columns.schema.price.precision||2},vwapData:{title:e.columns.schema.vwapData.title||"VWAP",sort:e.columns.schema.vwapData.sort||"desc",align:e.columns.schema.vwapData.align||"right",template:e.columns.schema.vwapData.template||"[symbol][value] [abbreviation]",factor:e.columns.schema.vwapData.factor||"",separator:void 0!==e.columns.schema.vwapData.separator?e.columns.schema.vwapData.separator:",",precision:e.columns.schema.vwapData.precision||2},supply:{title:e.columns.schema.supply.title||"Supply",sort:e.columns.schema.supply.sort||"desc",align:e.columns.schema.supply.align||"right",template:e.columns.schema.supply.template||"[value]",factor:e.columns.schema.supply.factor||"",separator:void 0!==e.columns.schema.supply.separator?e.columns.schema.supply.separator:",",precision:e.columns.schema.supply.precision||0},volume:{title:e.columns.schema.volume.title||"Volume",sort:e.columns.schema.volume.sort||"desc",align:e.columns.schema.volume.align||"right",template:e.columns.schema.volume.template||"[symbol][value] [abbreviation]",factor:e.columns.schema.volume.factor||"",separator:void 0!==e.columns.schema.volume.separator?e.columns.schema.volume.separator:",",precision:e.columns.schema.volume.precision||0},perc:{title:e.columns.schema.perc.title||"%24h",sort:e.columns.schema.perc.sort||"desc",align:e.columns.schema.perc.align||"right",template:e.columns.schema.perc.template||"[value]%",factor:e.columns.schema.perc.factor||"",separator:void 0!==e.columns.schema.perc.separator?e.columns.schema.perc.separator:",",precision:e.columns.schema.perc.precision||2}},sort:{field:e.columns.sort.field||"mktcap",type:e.columns.sort.type||"desc"}},chart:{visible:void 0===e.chart.visible||e.chart.visible,loader:void 0===e.chart.loader||e.chart.loader,height:e.chart.height||320,boxHeight:e.chart.boxHeight||435,property:{visible:void 0===e.chart.property.visible||e.chart.property.visible,value:e.chart.property.value||"price",items:e.chart.property.items||["price","mktcap","volume"],schema:{price:{title:e.chart.property.schema.price.title||"Price"},mktcap:{title:e.chart.property.schema.mktcap.title||"Market Cap"},volume:{title:e.chart.property.schema.volume.title||"Volume"}},label:e.chart.property.label||"Pick a property"},period:{visible:void 0===e.chart.period.visible||e.chart.period.visible,value:e.chart.period.value||"30day",items:e.chart.period.items||["365day","180day","90day","30day","7day","1day"],schema:{"365day":{title:e.chart.period.schema["365day"].title||"365 days"},"180day":{title:e.chart.period.schema["180day"].title||"180 days"},"90day":{title:e.chart.period.schema["90day"].title||"90 days"},"30day":{title:e.chart.period.schema["30day"].title||"30 days"},"7day":{title:e.chart.period.schema["7day"].title||"7 days"},"1day":{title:e.chart.period.schema["1day"].title||"1 day"}},label:e.chart.period.label||"Period of time"}},fiat:{visible:void 0===e.fiat.visible||e.fiat.visible,value:e.fiat.value||"USD",items:e.fiat.items||["USD","EUR","GBP","AUD","BRL","CAD","CHF","CNY","HKD","INR","JPY","MXN","PHP","PLN","RUB","SEK","SGD","ZAR"],icon:void 0===e.fiat.icon||e.fiat.icon,label:e.fiat.label||"Pick a fiat currency"},perPage:{visible:void 0===e.perPage.visible||e.perPage.visible,value:e.perPage.value||20,items:e.perPage.items||[5,10,15,20,25,30,40,50,75,100],icon:void 0===e.perPage.icon||e.perPage.icon,label:e.perPage.label||"Coins per page"},search:{visible:void 0===e.search.visible||e.search.visible,value:e.search.value||"",icon:void 0===e.search.icon||e.search.icon,label:e.search.label||"Search for coins"},pager:{visible:void 0===e.pager.visible||e.pager.visible,page:e.pager.page||0},flashes:{visible:void 0===e.flashes.visible||e.flashes.visible,colors:{green:e.flashes.colors.green||"rgba(185,246,202,.5)",red:e.flashes.colors.red||"rgba(252,228,236,.5)"}},badges:{visible:void 0===e.badges.visible||e.badges.visible,colors:{grey1:e.badges.colors.grey1||"#ECEFF1",grey2:e.badges.colors.grey2||"#90A4AE",green1:e.badges.colors.green1||"#B9F6CA",green2:e.badges.colors.green2||"#66BB6A",red1:e.badges.colors.red1||"#FCE4EC",red2:e.badges.colors.red2||"#F06292"}},font:{family:e.font.family||null,color:e.font.color||null,size:e.font.size||null},width:{desktop:e.width.desktop||"100%",tablet:e.width.tablet||"100%",mobile:e.width.mobile||"100%"},padding:{desktop:e.padding.desktop||0,tablet:e.padding.tablet||0,mobile:e.padding.mobile||0}},t.options.coins.data={all:[],page:[]},t.options.chart.data={fields:{},periods:{}},t.options.padding.tablet||(t.options.padding.tablet=t.options.padding.desktop),t.options.padding.mobile||(t.options.padding.mobile=t.options.padding.tablet)},X4CryptoTable.prototype.initLoader=function(){var e=document.createElement("div");e.className="x4-loader";var t=x4CryptoTables.uiLoader();e.appendChild(t),this.element.appendChild(e),"100%"!==this.options.width.desktop&&(this.element.parentNode.style.fontSize=0)},X4CryptoTable.prototype.initFont=function(){var e=this,t=getComputedStyle(this.element);e.options.font.family=e.options.font.family||t.fontFamily,e.options.font.color=e.options.font.color||t.fontColor,e.options.font.size=e.options.font.size||t.fontSize,!isNaN(parseFloat(e.options.font.size))&&isFinite(e.options.font.size)&&(e.options.font.size+="px"),e.element.style.fontFamily=e.options.font.family,e.element.style.fontSize=e.options.font.size,e.element.style.color=e.options.font.color},X4CryptoTable.prototype.initBadgeColors=function(){for(var e in x4CryptoTables.front)x4CryptoTables.front[e].colors=[this.options.badges.colors.grey1,this.options.badges.colors.grey2]},X4CryptoTable.prototype.refreshItems=function(){var e=this;e.options.coins.data.all=[],e.options.coins.data.page=[];var t=(e.options.search.value||"").toLowerCase();for(var a in x4CryptoTables.front){var o=x4CryptoTables.front[a];t&&-1===o.short.toLowerCase().indexOf(t)&&-1===o.long.toLowerCase().indexOf(t)||("include_all"===e.options.coins.strategy&&-1!==e.options.coins.except.indexOf(a)||"exclude_all"===e.options.coins.strategy&&-1===e.options.coins.except.indexOf(a)||e.options.coins.data.all.push(o))}var r=e.options.columns.sort.field,i="asc"===e.options.columns.sort.type?1:-1;e.options.coins.data.all.sort(function(e,t){var a=e[r].toLowerCase?e[r].toLowerCase():e[r],o=t[r].toLowerCase?t[r].toLowerCase():t[r];return a<o?-1*i:a>o?1*i:0}),e.refreshItemsPerPage()},X4CryptoTable.prototype.refreshItemsPerPage=function(){var e=this,t=e.options.perPage.value>0?e.options.perPage.value:e.options.coins.data.all.length,a=e.options.pager.page*t;e.options.coins.data.page=e.options.coins.data.all.slice(a,a+t)},X4CryptoTable.prototype.renderWidget=function(){var e=this,t=e.element.querySelector(".x4-loader");t&&t.parentNode.removeChild(t);var a=document.createElement("div");if(a.className="x4-header x4-clearfix",e.options.fiat.visible){var o=e.initFiatSelect();a.appendChild(o)}if(e.options.perPage.visible){var r=e.initPerPage();a.appendChild(r)}if(e.options.search.visible){var i=e.initSearch();a.appendChild(i)}e.element.appendChild(a);var s=document.createElement("div");s.className="x4-tables";var n=e.initTable();s.appendChild(n),e.element.appendChild(s);var l=document.createElement("div");if(l.className="x4-footer x4-clearfix",e.options.pager.visible){var c=e.initPager();l.appendChild(c)}e.element.appendChild(l),e.initResponsive(),e.initResponsiveTable(n),x4CryptoTables.tradeHook.push(e.changeTrade.bind(e))},X4CryptoTable.prototype.initFiatSelect=function(){var e=this,t=document.createElement("div");if(t.className="x4-fiat-select",e.options.fiat.icon){var a=document.createElement("div");a.className="x4-prefix x4-icon x4-primary-fill",a.innerHTML=x4CryptoTables.icon_attach_money,t.className+=" x4-with-icon",t.appendChild(a)}var o=x4CryptoTables.uiSelect({value:e.options.fiat.value,values:e.options.fiat.items,label:e.options.fiat.label,onChange:function(t){e.options.fiat.value=t,e.changeTable()}});return t.appendChild(o),t},X4CryptoTable.prototype.initPerPage=function(){var e=this,t=document.createElement("div");if(t.className="x4-per-page",e.options.perPage.icon){var a=document.createElement("div");a.className="x4-prefix x4-icon x4-primary-fill",a.innerHTML=x4CryptoTables.icon_layers,t.className+=" x4-with-icon",t.appendChild(a)}var o=x4CryptoTables.uiSelect({value:e.options.perPage.value,values:e.options.perPage.items,label:e.options.perPage.label,onChange:function(t){e.options.pager.page=0,e.options.perPage.value=parseInt(t),e.refreshItems(),e.changeTable()}});return t.appendChild(o),t},X4CryptoTable.prototype.initSearch=function(){var e=this,t=document.createElement("div");if(t.className="x4-search",e.options.search.icon){var a=document.createElement("div");a.className="x4-icon x4-primary-fill",a.innerHTML=x4CryptoTables.icon_search,t.className+=" x4-with-icon",t.appendChild(a)}var o=x4CryptoTables.uiInput({type:"search",value:e.options.search.value,label:e.options.search.label,onInput:function(t){e.options.pager.page=0,e.options.search.value=t,e.refreshItems(),e.changeTable()}});return t.appendChild(o),t},X4CryptoTable.prototype.initTable=function(){var e=this,t=document.createElement("div");t.className="x4-table",e.options.chart.visible&&(t.className+=" x4-with-chart");var a=e.options.columns.items.map(function(t){return e.options.columns.schema[t].field=t,e.options.columns.schema[t]}),o=x4CryptoTables.uiTable({key:"short",items:e.options.coins.data.page,columns:a,sortField:e.options.columns.sort.field,sortType:e.options.columns.sort.type,onRenderValue:function(t,a){return e.renderValue(t.short,a,t)},onChangeSort:function(t,a){e.options.columns.sort.field=t,e.options.columns.sort.type=a,e.options.pager.page=0,e.refreshItems(),e.changeTable()},onRowClick:function(t,a){e.options.chart.visible&&e.checkTablePopup(t,a)}});return t.appendChild(o),t},X4CryptoTable.prototype.changeTable=function(){var e=this,t=e.element.querySelector(".x4-tables");t.querySelectorAll(".x4-table").forEach(function(e){-1===e.className.indexOf("x4-disappear")&&(e.className=e.className+" x4-disappear",setTimeout(function(){e.parentNode.removeChild(e)},300))});var a=e.initTable();if(a.className+=" x4-appear",t.appendChild(a),setTimeout(function(){a.className=a.className.replace(" x4-appear","")},10),e.options.pager.visible){var o=e.initPager(),r=e.element.querySelector(".x4-pager");r.parentNode.replaceChild(o,r)}e.initResponsiveTable(a)},X4CryptoTable.prototype.changeTrade=function(e){var t=this;if(e.price!==x4CryptoTables.front[e.short].price){var a=t.element.querySelector('.x4-table .x4-row[data-value="'+e.short+'"]');a&&(e.colors=e.price>x4CryptoTables.front[e.short].price?[t.options.badges.colors.green1,t.options.badges.colors.green2]:[t.options.badges.colors.red1,t.options.badges.colors.red2],t.options.flashes.visible&&(a.style.backgroundColor=e.price>x4CryptoTables.front[e.short].price?t.options.flashes.colors.green:t.options.flashes.colors.red,setTimeout(function(){a.style.backgroundColor=""},300)),t.options.columns.items.forEach(function(o){if("long"!==o){var r=a.querySelector(".x4-column.x4-"+o);if(r){var i=t.options.columns.schema[o],s=r.querySelector(".x4-value"),n=t.renderValue(e.short,i,e);r.replaceChild(n,s)}}}))}},X4CryptoTable.prototype.checkTablePopup=function(e,t){var a=this;if(e.nextSibling&&-1!==e.nextSibling.className.indexOf("x4-table-popup")){var o=(r=e.nextSibling).querySelector(".x4-inside2");r.style.height=0,o.style.height=0,o.style.paddingTop=0,o.style.paddingBottom=0,setTimeout(function(){r.parentNode.removeChild(r)},200)}else{var r=a.initTablePopup(t.short);e.nextSibling?e.parentNode.insertBefore(r,e.nextSibling):e.parentNode.appendChild(r),setTimeout(function(){var e=r.querySelector(".x4-inside2");r.style.height=a.options.chart.boxHeight+"px",e.style.height=a.options.chart.boxHeight+"px"},10);var i=a.options.chart.data.periods[t.short]||a.options.chart.period.value;x4CryptoTables.getHistory(t.short,i,a.initChart.bind(a,r,t.short))}},X4CryptoTable.prototype.initTablePopup=function(e){var t=this,a=document.createElement("div");a.className="x4-row x4-table-popup x4-loading";var o=document.createElement("div");if(o.className="x4-inside2",t.options.chart.loader){var r=document.createElement("div");r.className="x4-loader2";var i=x4CryptoTables.uiLoader();r.appendChild(i),o.appendChild(r)}var s=document.createElement("div");if(s.className="x4-header x4-clearfix",t.options.chart.property.visible){var n=document.createElement("div");n.className="x4-chart-prop";var l=x4CryptoTables.uiSelect({value:t.options.chart.data.fields[e]||t.options.chart.property.value,values:{items:t.options.chart.property.items.map(function(e){return t.options.chart.property.schema[e].field=e,t.options.chart.property.schema[e]}),value:"field",title:"title"},label:t.options.chart.property.label,onChange:function(o){t.options.chart.data.fields[e]=o,t.changeChart(a,e)}});n.appendChild(l),s.appendChild(n)}if(t.options.chart.period.visible){var c=document.createElement("div");c.className="x4-chart-period";var p=x4CryptoTables.uiSelect({value:t.options.chart.data.periods[e]||t.options.chart.period.value,values:{items:t.options.chart.period.items.map(function(e){return t.options.chart.period.schema[e].value=e,t.options.chart.period.schema[e]}),value:"value",title:"title"},label:t.options.chart.period.label,onChange:function(o){t.options.chart.data.periods[e]=o,a.className+=" x4-loading",x4CryptoTables.getHistory(e,o,t.initChart.bind(t,a,e))}});c.appendChild(p),s.appendChild(c)}var d=document.createElement("div");d.className="x4-chart",d.style.height=t.options.chart.height+"px";var m=document.createElement("div");m.className="x4-back",m.innerHTML=e+"/"+t.options.fiat.value;var h=document.createElement("canvas");return h.className="x4-canvas",h.style.height=t.options.chart.height+"px",h.style.width="100%",d.appendChild(m),d.appendChild(h),o.appendChild(s),o.appendChild(d),a.appendChild(o),a},X4CryptoTable.prototype.initChart=function(e,t){var a=this;e.className=e.className.replace(" x4-loading","");var o=e.querySelector(".x4-canvas"),r=o.getContext("2d");r.chart&&(r.chart.destroy(),o.removeAttribute("height"),o.removeAttribute("width"));var i=a.options.chart.data.fields[t]||a.options.chart.property.value,s=a.options.chart.data.periods[t]||a.options.chart.period.value,n=x4CryptoTables.history[t][s][i].filter(function(e,t){return t%5==0}).map(function(e){return{x:new Date(e[0]),y:e[1]}}),l=r.chart=new Chart.Line(r,{plugins:[this.getСrosshairPlugin(o)],data:{datasets:[{data:n}]},options:{responsive:!1,maintainAspectRatio:!1,legend:!1,elements:{line:{borderColor:"rgba(0,188,212,1)",backgroundColor:"rgba(0,188,212,.25)",fill:!0,borderWidth:1},point:!1},tooltips:{mode:"index",intersect:!1,position:"average",displayColors:!1,bodyFontFamily:a.options.font.family,yPadding:8,xPadding:24,callbacks:{title:function(e,t){return""},label:function(e,o){var r=o.datasets[0].data[e.index].y,i=a.options.chart.data.fields[t]||a.options.chart.property.value,s=a.options.columns.schema[i];return s=s||{template:"",separator:",",precision:0},x4CryptoTables.formatPrice(a.options.fiat.value,s,r).replace(/(<([^>]+)>)/gi,"")}}},scales:{xAxes:[{type:"time",display:!0,position:"bottom",id:"x-axis",gridLines:{drawBorder:!1,drawTicks:!1,color:"rgba(0,0,0,.06)"},ticks:{padding:8,maxRotation:0,fontFamily:a.options.font.family}}],yAxes:[{type:"linear",display:!0,position:"right",gridLines:{color:"rgba(0,0,0,.06)",drawBorder:!1,drawTicks:!1},ticks:{padding:4,fontFamily:a.options.font.family,callback:function(o){if(e.offsetWidth<600)return"";var r=a.options.chart.data.fields[t]||a.options.chart.property.value,i=a.options.columns.schema[r];return i=i||{template:"",separator:",",precision:0}," "+x4CryptoTables.formatPrice(a.options.fiat.value,i,o).replace(/(<([^>]+)>)/gi,"")}}}]}}});window.addEventListener("resize",function(){l.resize()}),l.resize()},X4CryptoTable.prototype.changeChart=function(e,t){e.className=e.className.replace(" x4-loading","");var a=this.options.chart.data.fields[t]||this.options.chart.property.value,o=this.options.chart.data.periods[t]||this.options.chart.period.value,r=x4CryptoTables.history[t][o][a].filter(function(e,t){return t%5==0}).map(function(e){return{x:new Date(e[0]),y:e[1]}}),i=e.querySelector(".x4-canvas").getContext("2d");i.chart&&(i.chart.data.datasets[0].data=r,i.chart.update())},X4CryptoTable.prototype.initPager=function(){var e=this,t=document.createElement("div");t.className="x4-pager";var a=e.options.perPage.value>0?e.options.perPage.value:e.options.coins.data.all.length,o=e.options.pager.page*a+1,r=(e.options.pager.page+1)*a;r>e.options.coins.data.all.length&&(r=e.options.coins.data.all.length);var i=document.createElement("div");i.className="x4-label",i.innerHTML="Showing "+o+"-"+r+" of "+e.options.coins.data.all.length+" coins";var s=document.createElement("div");s.className="x4-previous x4-icon"+(0===e.options.pager.page?" x4-disabled":""),s.innerHTML=x4CryptoTables.icon_chevron_left,s.addEventListener("click",function(){e.options.pager.page>0&&(e.options.pager.page=e.options.pager.page-1,e.refreshItemsPerPage(),e.changeTable())});var n=Math.ceil(e.options.coins.data.all.length/e.options.perPage.value),l=document.createElement("div");return l.className="x4-next x4-icon"+(e.options.pager.page===n-1?" x4-disabled":""),l.innerHTML=x4CryptoTables.icon_chevron_right,l.addEventListener("click",function(){e.options.pager.page<n-1&&(e.options.pager.page=e.options.pager.page+1,e.refreshItemsPerPage(),e.changeTable())}),t.appendChild(i),t.appendChild(s),t.appendChild(l),t},X4CryptoTable.prototype.initResponsive=function(){var e=this,t=function(){var t="100%"!==e.options.width.desktop?e.element.parentNode:e.element,a=t.offsetWidth<960?" x4-tablet":"",o=t.offsetWidth<600?" x4-mobile":"";a?o?(e.element.style.maxWidth=e.options.width.mobile,e.element.style.padding=e.options.padding.mobile):(e.element.style.maxWidth=e.options.width.tablet,e.element.style.padding=e.options.padding.tablet):(e.element.style.maxWidth=e.options.width.desktop,e.element.style.padding=e.options.padding.desktop);var r=e.element.offsetWidth<960?" x4-tablet":"",i=e.element.offsetWidth<600?" x4-mobile":"";e.element.className=e.element.className.replace(" x4-tablet","").replace(" x4-mobile","")+r+i};t(),window.addEventListener("resize",t)},X4CryptoTable.prototype.initResponsiveTable=function(e){var t=this;t.options.columns.hidden=[];var a=function(){var a=e.querySelector(".x4-ui-table > .x4-inside"),o=t.options.columns.hideOrder,r=t.options.columns.hidden;if(Math.abs(e.offsetWidth-a.offsetWidth)>4)for(var i=0;i<o.length;i++){var s=o[i];if(-1===r.indexOf(s)){for(var n=e.querySelectorAll(".x4-"+s),l=0;l<n.length;l++)n[l].style.display="none";if(r.push(s),Math.abs(e.offsetWidth-a.offsetWidth)<=4)break}}else if(r.length>0)for(i=r.length-1;i>=0;i--){for(s=r[i],n=e.querySelectorAll(".x4-"+s),l=0;l<n.length;l++)n[l].style.display="table-cell";if(r.pop(),Math.abs(e.offsetWidth-a.offsetWidth)>4){var c=e.querySelectorAll(".x4-"+s);for(l=0;l<c.length;l++)c[l].style.display="none";r.push(s);break}}};setTimeout(a,100),window.addEventListener("resize",function(){-1===e.className.indexOf("x4-disappear")&&setTimeout(a,100)})},X4CryptoTable.prototype.renderValue=function(e,t,a){var o=document.createElement("div");o.className="x4-value";var r=t.field,i=a[r];return"long"===r&&(i=x4CryptoTables.formatName(e,t,i)),-1!==["mktcap","price","vwapData","volume"].indexOf(r)&&(i=x4CryptoTables.formatPrice(this.options.fiat.value,t,i)),-1!==["price","vwapData","perc"].indexOf(r)&&this.options.badges.visible&&this.styleColors(a,r,o,i),"supply"===r&&(i=x4CryptoTables.formatSupply(t,i)),"perc"===r&&(i=x4CryptoTables.formatPerc(t,i)),o.innerHTML=i,o},X4CryptoTable.prototype.styleColors=function(e,t,a,o){var r=this;a.className+=" x4-badge","perc"===t?(a.style.backgroundColor=o>=0?o>0?r.options.badges.colors.green1:r.options.badges.colors.grey1:r.options.badges.colors.red1,a.style.color=o>=0?o>0?r.options.badges.colors.green2:r.options.badges.colors.grey2:r.options.badges.colors.red2):(a.style.backgroundColor=e.colors[0],a.style.color=e.colors[1])},X4CryptoTable.prototype.getСrosshairPlugin=function(e){var t,a=e.getContext("2d"),o=!1,r=0;return{afterEvent:function(e,a){t=Math.round(a.x),r=Math.round(a.y),setTimeout(function(){o||e.render({duration:0})},1)},afterDatasetsDraw:function(o){t<o.chartArea.left||t>o.chartArea.right||r<o.chartArea.top||r>o.chartArea.bottom||(a.beginPath(),a.lineWidth=1,a.moveTo(t+.5,.5),a.lineTo(t+.5,e.scrollHeight+.5),a.moveTo(.5,r+.5),a.lineTo(e.scrollWidth+.5,r+.5),a.strokeStyle="rgba(244,67,54,.64)",a.stroke(),a.closePath())},beforeRender:function(e){o=!0},afterRender:function(e){o=!1}}};var x4CryptoTables=new X4CryptoTables;x4CryptoTables.getExchangeRates(),x4CryptoTables.getFront(),x4CryptoTables.getTrades();